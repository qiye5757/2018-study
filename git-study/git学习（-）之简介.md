## git学习（-）之简介

### 版本控制历史

1. 本地版本控制系统
2. 集中化版本控制系统（cvcs）：有一个单一的服务器来管理版本信息，协同的客户机连接服务器进行操作。如 `SVN`
3. 分布式版本控制系统（dvcs）：客户机每次不是从服务器获取快照，而是代码。这样，服务器发生单点故障，容易恢复。如 `git`

### git简介

1. 直接快照，而非比较差异

	+ git和其他版本控制工具的最主要区别为：git只关心文件数据的整体是否改变，而大多数其他系统则只关心文件内容的具体差距
	+ git每次提交更新的时候，会纵览所有文件的指纹信息并对文件做一快照，然后保存一个指向这个快照的索引
	+ 为提高性能，若文件没有变化，git不会再次保存，而只对上次保存的快照做一连接。

2. 近乎所有的操作都可以本地执行

3. 时刻保持数据完整性

	+ 在保存到git之前，所有数据都要进行 `内容的校验和` 计算，并将此结果作为数据的唯一标识和索引

4. 多数操作仅添加数据

5. ***三种状态***

	+ 对任何一种文件来说，在git内部中都有三种状态
	
		+ 已提交（commited）：表示该文件已经被安全的保存到本地数据库中了
		+ 已修改（modified）：表示已经修改了文件，但还没有提交保存
		+ 已暂存（staged）：表示把已修改的文件放在下次提交时要保存的清单里了

	+ 由此可见，文件流转的三个工作区域 
		
		+ git目录：保存元对象和对象数据库的地方
		+ git的工作目录：从项目中取出来的数据进行后续操作的
		+ git的暂存区域：所谓的暂存目录，只是一个简单的文件，一般都放在git目录中

	+ 由此的基本操作流程
		
		1. 在工作目录中修改某些文件
		2. 对这些修改了的文件做快照，并保存到暂存区域
		3. 提交更新，并将保存到暂存区域的文件快照转储到git目录中

6. 初次运行Git前的配置

	+ 一般在新的系统上，我们都需要配置下自己的git工作环境。配置工作只需要一次，以后升级还会沿用现在的配置。
	+ git提供了一个叫 `git config` 的工具，专门来配置或者读取相应的工作环境变量。
	+ 这些环境变量可以存放在以下三个地方：
		+ /etc/gitconfig文件：系统中对所有用户都适用的配置。若使用 `git config`时用 `--system` 选项，读写的就是这个文件。
		+ ~/.gitconfig文件：用户目录下的配置文件，只适用于该用户。若使用 `git config`时用 `--global` 选项，读写的就是这个文件。
		+ 当前项目的git目录中配置文件（也就是 `.git/config` 文件）：这里的配置仅仅对当前的项目有效。
		+ 从上往下，每一个级别的配置都会覆盖上层的相同配置。

	+ 在window中，git会寻找用户主目录下的 `.gitconfig` 文件。 此外git还会尝试寻找 `/etc/gitconfig` 文件，只不过看当初git安装在什么目录，就以此作为根目录来寻找。

7. 常用git配置

	+ 配置用户信息
	
		+ `git config --global user.name "aaa"` 配置用户名称
		+ `git config --global user.email "1@126.com"` 配置用户邮箱
		+ 使用 `--global` 选项，会在该用户的所有项目中使用。
		+ 如果想在特定的项目中使用名字和电邮，则去掉 `--global` 选项，新的设定保存在当前项目的 `.git/config` 文件中

	+ 文本编辑器

		+ 使用 `git config --global core.editor 编辑器名称`
		+ 如果不配置，使用系统默认的，一般为 `vi` 或者 `vim`

	+ 差异分析配置

		+ 这个设置的是在解决冲突的使用使用的那种差异分析工具。
		+ 使用 `git config --global merge.tool 工具`

	+ 当然可以使用 `git config --list` 来获取所有的配置信息（有时候会看到重复的，因为是从不同的配置文件中读取的，git会使用最后一个）

8. 获取配置

	+ git中有各种工具，config只是其中的一种

		+ git help 工具
		+ git 工具 --help
		+ man git-工具